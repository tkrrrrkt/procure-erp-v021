# Domain Layer（ドメイン層）

## 概要
ドメイン層はビジネスロジックの中核を担う層です。ビジネスルール、エンティティ、値オブジェクト、ドメインイベントなどを含みます。

## ディレクトリ構成

### entities/
- ビジネスエンティティ（ビジネスオブジェクト）
- 一意の識別子を持つ
- ライフサイクルを持つ

### value-objects/
- 値オブジェクト（不変オブジェクト）
- ビジネス上の概念を表現
- 同値性は属性値で判断

### aggregates/
- 集約（トランザクション境界）
- 整合性境界の単位
- 集約ルートを通じてアクセス

### repositories/
- リポジトリインターフェース
- 永続化の抽象化
- ドメインオブジェクトの取得・保存

### services/
- ドメインサービス
- エンティティや値オブジェクトに属さないビジネスロジック
- 複数の集約にまたがる処理

### events/
- ドメインイベント
- ビジネス上の出来事を表現
- イベント駆動アーキテクチャの基盤

### specifications/
- 仕様オブジェクト
- ビジネスルールのカプセル化
- 複雑な条件判定ロジック

### policies/
- ビジネスポリシー
- 戦略的なビジネスルール
- 動的に切り替え可能なルール

## 実装原則

1. **ビジネスロジックの集約**
   - すべてのビジネスルールはドメイン層に実装
   - インフラストラクチャへの依存は禁止

2. **不変性の重視**
   - 値オブジェクトは不変
   - エンティティの状態変更は明示的

3. **豊かなドメインモデル**
   - 貧血症ドメインモデルの回避
   - 振る舞いをオブジェクトに持たせる

4. **ユビキタス言語**
   - ビジネス用語をそのまま使用
   - コードがビジネスを表現
